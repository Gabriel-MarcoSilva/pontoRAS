"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[105],{8105:function(e,a,t){t.r(a),t.d(a,{default:function(){return f}});var o=t(641),s=t(3751);const l={class:"container",id:"cadastro"},r={class:"doubleInput"},n={class:"doubleInput"},i={class:"oneInput"},m={class:"oneInput"},u={class:"oneInput"};function d(e,a,t,d,p,c){const h=(0,o.g2)("Alert");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("section",l,[(0,o.Lk)("a",{onClick:a[0]||(a[0]=e=>c.newCad()),class:"setas",style:{"justify-content":"flex-start !important",cursor:"pointer"}},"voltar"),(0,o.Lk)("form",{id:"formCadastro",onSubmit:a[15]||(a[15]=(0,s.D$)((e=>c.cadastro()),["prevent"]))},[(0,o.Lk)("div",r,[(0,o.Lk)("label",null,[a[17]||(a[17]=(0,o.Lk)("p",null,"Nome: *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>p.nome=e),autocomplete:"off",value:"",type:"text",placeholder:"Nome",name:"nome",onInput:a[2]||(a[2]=e=>c.updateCampo("nome"))},null,544),[[s.Jo,p.nome]])]),(0,o.Lk)("label",null,[a[18]||(a[18]=(0,o.Lk)("p",null,[(0,o.eW)("Telefone:"),(0,o.Lk)("span",{style:{"font-size":"8pt"}},"(número apenas)"),(0,o.eW)("*")],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>p.telefone=e),autocomplete:"off",value:"",type:"text",placeholder:"Telefone",name:"telefone",maxlength:"11",max:"99999999999",min:"00000000000",onInput:a[4]||(a[4]=e=>c.updateCampo("telefone"))},null,544),[[s.Jo,p.telefone]])])]),(0,o.Lk)("div",n,[(0,o.Lk)("label",null,[a[19]||(a[19]=(0,o.Lk)("p",null,[(0,o.eW)("Matrícula: "),(0,o.Lk)("span",{style:{"font-size":"8pt"}},"(número apenas)"),(0,o.eW)("*")],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>p.matricula=e),autocomplete:"off",value:"",type:"text",maxlength:"10",placeholder:"Matrícula",name:"matricula",onInput:a[6]||(a[6]=e=>c.updateCampo("matricula"))},null,544),[[s.Jo,p.matricula]])]),(0,o.Lk)("label",null,[a[20]||(a[20]=(0,o.Lk)("p",null,"Curso: *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>p.curso=e),autocomplete:"off",value:"",type:"text",placeholder:"Curso",name:"curso",onInput:a[8]||(a[8]=e=>c.updateCampo("curso"))},null,544),[[s.Jo,p.curso]])])]),(0,o.Lk)("label",i,[a[21]||(a[21]=(0,o.Lk)("p",null,[(0,o.eW)("Nº Membresia: "),(0,o.Lk)("span",{style:{"font-size":"8pt","word-wrap":"break-word","overflow-wrap":"break-word"}},"(opcional números apenas)")],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>p.membresia=e),autocomplete:"off",value:"",type:"text",maxlength:"8",placeholder:"Membresia (opcional)",name:"membresia",onInput:a[10]||(a[10]=e=>c.updateCampo("membresia"))},null,544),[[s.Jo,p.membresia]])]),(0,o.Lk)("label",m,[a[22]||(a[22]=(0,o.Lk)("p",null,"Email: *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[11]||(a[11]=e=>p.email=e),autocomplete:"off",value:"",type:"email",placeholder:"Email",name:"email",onInput:a[12]||(a[12]=e=>c.updateCampo("email"))},null,544),[[s.Jo,p.email]])]),(0,o.Lk)("label",u,[a[23]||(a[23]=(0,o.Lk)("p",null,"Senha: *",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":a[13]||(a[13]=e=>p.senha=e),autocomplete:"off",value:"",type:"password",placeholder:"Senha",name:"password",onInput:a[14]||(a[14]=e=>c.updateCampo("password"))},null,544),[[s.Jo,p.senha]])]),a[24]||(a[24]=(0,o.Lk)("button",{type:"submit"},"Cadastrar",-1))],32)]),((0,o.uX)(),(0,o.Wv)(h,{message:p.message,size:p.size,onClose:a[16]||(a[16]=e=>this.message=""),key:p.message},null,8,["message","size"]))],64)}var p=t(8082),c=t(9031),h=t(9753),b={name:"ComponentCadastro",components:{Alert:h.A},data(){return{isOpen:!1,dataUser:[],widthScreen:0,usuarioID:"",nome:"",email:"",telefone:"",matricula:"",membresia:"",curso:"",senha:"",message:"",size:0}},mounted(){this.loading()},methods:{async loading(){if(localStorage.getItem("dataUser")){const e=JSON.parse(localStorage.getItem("dataUser"));this.usuarioID=e.uid,this.dataUser=await p.A.get(`/usuario?id=${this.usuarioID}`).then((async e=>await e.data)).catch((()=>{this.message="Não foi possível conectar",this.size=25})),this.byTag("id","formCadastro").reset()}},byTag(e,a){return"id"==e?document.getElementById(a):"name"==e?document.getElementsByName(a)[0]:void 0},async cadastro(){const e={nome:this.nome,telefone:this.telefone,matricula:this.matricula,curso:this.curso,membresia:""!==this.membresia?this.membresia+"/ON":"101010/OFF",role:"user",email:this.email,senha:this.senha},a=!e.nome||!e.telefone||!e.matricula||!e.curso||!e.email||!e.senha;a?(this.byTag("name","nome").style.borderColor="red",this.byTag("name","curso").style.borderColor="red",this.byTag("name","telefone").style.borderColor="red",this.byTag("name","matricula").style.borderColor="red",this.byTag("name","email").style.borderColor="red",this.byTag("name","password").style.borderColor="red",this.message="Campos não preenchidos",this.size=30):(e.telefone.length<11?(this.message="Número de telefone inválido",this.size=35,this.byTag("name","telefone").style.borderColor="red"):this.byTag("name","telefone").style.borderColor="rgb(138, 43, 226)",e.matricula.length<9?(this.message="Número de matrícula inválido",this.size=35,this.byTag("name","matricula").style.borderColor="red"):this.byTag("name","matricula").style.borderColor="rgb(138, 43, 226)",e.membresia&&e.membresia.length<7?(this.message="Número de membresia inválido",this.size=35,this.byTag("name","membresia").style.borderColor="red"):this.byTag("name","membresia").style.borderColor="rgb(138, 43, 226)",e.email.match("@")||e.email.match(".com")&&e.email.match(".br")?this.byTag("name","email").style.borderColor="rgb(138, 43, 226)":(this.message="Email inválido",this.size=20,this.byTag("name","email").style.borderColor="red"));const t=await(0,c.Si)(e);t?(this.message="Usuário cadastrado com sucesso!",this.size=50,this.newCad()):(this.message="Não foi possível cadastrar o usuário",this.size=60)},updateCampo(e){"telefone"==e?this.telefone=this.telefone.replace(/\D/g,""):"membresia"==e?this.membresia=this.membresia.replace(/\D/g,""):"matricula"==e&&(this.matricula=this.matricula.replace(/\D/g,"")),this.byTag("name",e).style.borderColor="rgb(138, 43, 226)"},newCad(){this.$router.back()}}},g=t(6262);const y=(0,g.A)(b,[["render",d],["__scopeId","data-v-b3847ba8"]]);var f=y}}]);
//# sourceMappingURL=105.0bf583aa.js.map
{"version":3,"file":"js/308.c7324251.js","mappings":"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","sources":["webpack://project/./src/components/DashboardAdmin.vue","webpack://project/./src/components/DashboardAdmin.vue?e745"],"sourcesContent":["<template>\n    <section class=\"container\" id=\"menu\" v-if=\"!isBusca\">\n        <button type=\"button\" @click=\"newCad()\">Cadastrar novo Membro</button>\n        <button type=\"button\" @click=\"isBusca = !isBusca\">buscar Usuário</button>\n    </section>\n\n    <section class=\"container\" id=\"container-admin\" v-else>\n        <a @click=\"isBusca = !isBusca\" class=\"setas\"\n            style=\"justify-content: flex-start !important; cursor: pointer; margin-left: 5px;\">voltar</a>\n\n        <div style=\"width: 100%; display: flex; align-items: center; justify-content: space-around; height: 20%;\">\n            <select v-model=\"select\" name=\"select\" id=\"select-admin\">\n                <option value=\"--\" disabled>Selecione um usuário</option>\n                <option v-for=\"item in users\" :key=\"item\" :value=\"item.id\">{{ item.nome }}</option>\n            </select>\n\n            <button type=\"button\" @click=\"buscarUser()\" class=\"btn\">buscar</button>\n        </div>\n\n        <div id=\"infoUser\">\n            <div v-if=\"nomeUser !== ''\">\n                <p>Nome: {{ nomeUser }}</p>\n                <p>Matricula: {{ matriculaUser }}</p>\n                <p>Tempo na C11: {{ tempoUser }}</p>\n            </div>\n            <div class=\"container-button\" v-if=\"nomeUser !== ''\">\n                <button @click=\"atribuirAdmin\" class=\"btn\" v-if=\"itsAdmin\">\n                    virar Admin\n                </button>\n                <button @click=\"removerUsuario\" class=\"btn\" v-if=\"!itsMe\">\n                    Remover\n                </button>\n            </div>\n        </div>\n\n        <div id=\"container-history\" class=\"box\">\n                <div v-if=\"this.historicoUser?.error\">\n                    {{ this.historicoUser.error }}\n                </div>\n                <div v-else style=\"width: 100%;\">\n                    <div class=\"history-item\" v-for=\"item in historicoUser\" :key=\"item\">\n                        <div style=\"display: grid; grid-template-columns: repeat(3, 33%); gap: 1%; width: 100%;\">\n                            <p>\n                                Data: {{ item.data }}\n                            </p>\n                            <p>\n                                Tempo: {{ item.horas }}\n                            </p>\n                            <p>\n                                Horário: {{ item.horario }}\n                            </p>\n                        </div>\n                        <br />\n                        Descrição: {{ item.descricao }}\n                    </div>\n                </div>\n            </div>\n    </section>\n\n    <Alert :message=\"message\" :size=\"size\" @close=\"this.message = ''\" :key=\"message\"/>\n\n</template>\n\n<script>\n\nimport { attAdmin, buscaAdmin, getAllUsers, getDataUserLogged, getHoras, removeUser } from '@/services';\nimport Alert from './Alert.vue';\n\nexport default {\n    name: 'DashboardAdmin',\n    components: {\n        Alert\n    },\n    data () {\n        return {\n            isOpen: false,\n            dataUser: [],\n            widthScreen: 0,\n            usuarioID: '',\n            historicoUser: [],\n            dataUserSearch: [],\n            \n            tempoUser: '00:00:00',\n            nomeUser: '',\n            matriculaUser: '',\n            itsAdmin: false,\n            idUserSearch: '',\n\n            message: '',\n            size: 0,\n            select: '--',\n            users: [],\n            membresia: '',\n            itsMe: false,\n            isBusca: false\n        }\n    },\n    async mounted() {\n        const dadosUser = JSON.parse(localStorage.getItem('dataUser'))\n        this.usuarioID = dadosUser.uid\n        this.membresia = dadosUser.membresia ?? ''\n        this.getUsers()\n    },\n    methods: {\n        closeFormMembreship() {\n            this.byTag('id', 'formMembreship').style.display = 'none'\n        },\n        \n        async getUsers () {\n            this.users = await getAllUsers()\n        },\n\n        byTag(type, tag) {\n            if (type == 'id') {\n                return document.getElementById(tag)\n            } else if (type == 'name') {\n                return document.getElementsByName(tag)[0]\n            }\n        },\n        \n        newCad() {\n            this.$router.push('/cadastro')\n        },\n\n        async buscarUser() {\n            if (this.select !== '--') {\n                this.itsMe = this.select === this.usuarioID\n                this.dataUserSearch = await getDataUserLogged(this.select)\n\n                this.tempoUser = await getHoras(this.dataUserSearch[0].id)\n\n                if (this.tempoUser !== '00:00:00') {\n                    this.historicoUser = await buscaAdmin(this.dataUserSearch[0].matricula)\n                    for (let i = 0; i < this.historicoUser.length; i++) {\n                        this.historicoUser[i].data = await this.dateVisual(this.historicoUser[i].data)\n                        this.historicoUser[i].horas = await this.formatarTempo(this.historicoUser[i].horas)\n                    }\n                } else {\n                    this.historicoUser = []\n                }\n\n                this.preencheTabela()\n            }\n        },\n\n        preencheTabela() {\n            this.nomeUser = this.dataUserSearch[0].nome\n            this.matriculaUser = this.dataUserSearch[0].matricula\n            this.tempoUser = this.tempoUser ? this.formatarTempo(this.tempoUser) : '00:00:00'\n            this.itsAdmin = this.dataUserSearch[0].role !== 'admin'\n            this.idUserSearch = this.dataUserSearch[0].id\n        },\n\n        async atribuirAdmin () {\n            if (confirm('Deseja atribuir administrador a este usuário? ')) {\n                const att = await attAdmin(this.idUserSearch)\n    \n                if(att.status) {\n                    this.message = 'Atribuido com sucesso!! '\n                    this.size = 30\n                    this.itsAdmin = true\n                }else {\n                    this.message = 'Não foi possível atribuir'\n                    this.size = 30\n                }\n            }\n        },\n\n        dateVisual(date) {\n            const data = date.split('T')[0]\n\n            const dia = data.split('-')[2]\n            const mes = data.split('-')[1]\n            const ano = data.split('-')[0]\n            return dia + '/' + mes + '/' + ano\n        },\n\n        formatarTempo(segundos) {\n            let horas = Math.floor(segundos / 3600);\n            let minutos = Math.floor((segundos % 3600) / 60);\n            let seg = segundos % 60;\n            return (\n                String(horas).padStart(2, '0') + \":\" +\n                String(minutos).padStart(2, '0') + \":\" +\n                String(seg).padStart(2, '0')\n            );\n        },\n\n        async removerUsuario () {\n            if (confirm('Deseja remover este usuário?')) {\n                const deleteUser = await removeUser(this.select)\n                if (deleteUser) {\n                    this.message = 'Usuário removido com sucesso!'\n                    this.size = 20\n                    this.getUsers()\n                    this.select = '--'\n                    this.nomeUser = ''\n                    this.historicoUser = []\n                } else {\n                    this.message = 'Não foi possível remover o uusário'\n                    this.size = 30\n                }\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.container {\n    width: 40vw !important;\n    color: #fff;\n}\n\n#container-admin {\n    width: 80vw !important;\n    height: 80vh !important;\n    padding: 10px;\n    color: #fff !important;\n    display: flex;\n    justify-content: space-around;\n    flex-direction: column;\n}\n\n#menu {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    height: 80vh;\n    width: 100%;\n    border-radius: 5px;\n    box-shadow: 0 0 20px rgb(138, 43, 226);\n}\n\n#menu button {\n    width: 80% !important;\n    margin: 20px auto;\n}\n\n#container-history {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    font-family: Arial, sans-serif;\n    overflow-y: auto;\n    padding: 10px;\n    display: flex;\n    height: 60%;\n    justify-content: flex-start;\n}\n\n.history-item {\n    padding: 10px;\n    width: 100%;\n    border-bottom: 1px solid #ccc;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n}\n\n.history-item:nth-child(even) {\n    background-color: white;\n    /* Branco */\n    color: #1b1b1b;\n}\n\n.history-item:nth-child(odd) {\n    background-color: transparent;\n    /* Transparente */\n}\n\n#select-admin {\n    width: 70%;\n    padding: 5px 10px;\n    font-weight: bold;\n    color: rgb(138, 43, 226);\n    border: 3px solid rgb(138, 43, 226);\n    border-radius: 5px;\n}\n\n.btn {\n    height: 6vh;\n    min-width: 20%;\n    padding: 5px 10px;\n    border: 3px solid rgb(138, 43, 226);\n    background-color: #1b1b1b;\n    color: rgb(138, 43, 226);\n    font-weight: bold;\n    cursor: pointer;\n    text-transform: capitalize;\n}\n\n.btn:hover {\n    border: 3px solid #1b1b1b;\n    background-color: rgb(138, 43, 226);\n    color: #1b1b1b;\n}\n\n#infoUser {\n    height: 30%;\n    display: flex;\n    padding: 20px;\n    justify-content: space-between;\n}\n\n.container-button {\n    display: flex;\n    width: 30%;\n    justify-content: space-between;\n    flex-direction: column;\n}\n\n.container-button button{\n    width: 100%;\n}   \n\n@media (max-width: 400px) {\n\n    #container-dataUser {\n        width: 70vw;\n        left: -70vw;\n    }\n\n    .container {\n        width: 70vw !important;\n    }\n\n    #infoUser {\n        flex-direction: column;\n        font-size: 10pt !important;\n        justify-content: space-around;\n    }\n\n    #infoUser button {\n        margin: 5px;\n    }\n\n    .container-button {\n        width: 100%;\n        flex-direction: row;\n    } \n\n    .history-item {\n        font-size: 10pt !important;\n    }\n}\n\n@keyframes moveIn {\n    0% {\n        left: -80vw;\n    }\n\n    10% {\n        left: 0;\n    }\n\n    90% {\n        left: 0;\n    }\n\n    100% {\n        left: -80vw;\n    }\n}\n</style>","import { render } from \"./DashboardAdmin.vue?vue&type=template&id=9f798286&scoped=true\"\nimport script from \"./DashboardAdmin.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardAdmin.vue?vue&type=script&lang=js\"\n\nimport \"./DashboardAdmin.vue?vue&type=style&index=0&id=9f798286&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9f798286\"]])\n\nexport default __exports__"],"names":["key","class","id","style","_createElementBlock","_Fragment","$data","isBusca","_hoisted_2","_createElementVNode","onClick","_cache","$event","_hoisted_3","select","name","value","disabled","_renderList","users","item","nome","_hoisted_4","type","$options","buscarUser","_hoisted_5","nomeUser","_hoisted_6","_toDisplayString","matriculaUser","tempoUser","_createCommentVNode","_hoisted_7","itsAdmin","args","atribuirAdmin","itsMe","removerUsuario","_hoisted_8","historicoUser","error","_hoisted_9","_hoisted_10","_hoisted_11","data","horas","horario","_createTextVNode","descricao","_hoisted_1","newCad","_createBlock","_component_Alert","message","size","onClose","components","Alert","isOpen","dataUser","widthScreen","usuarioID","dataUserSearch","idUserSearch","membresia","mounted","dadosUser","JSON","parse","localStorage","getItem","this","uid","getUsers","methods","closeFormMembreship","byTag","display","getAllUsers","tag","document","getElementById","getElementsByName","$router","push","getDataUserLogged","getHoras","buscaAdmin","matricula","i","length","dateVisual","formatarTempo","preencheTabela","role","confirm","att","attAdmin","status","date","split","dia","mes","ano","segundos","Math","floor","minutos","seg","String","padStart","deleteUser","removeUser","__exports__","render"],"sourceRoot":""}